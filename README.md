# Piro22_PythonGame_4

## 과제 협의사항

### 1. Commit Type

| Keyword | When to use |
| --- | --- |
| `feat`  | 기능 관련 커밋 |
| `fix` | 버그 수정 |
| `add` | 내용을 추가하였을 때 |
| `chore` | 기타 변경 사항 |

- 기능을 추가하거나 코드 수정하기 전 자주 커밋하기
- 주요 부분 완성할 때 마다 main에 merge 하여 자주 동기화
- Merge 할 때 마다 팀원들에게 전파하기

### 2. Branch

| Branch 종류 | 설명 |
| --- | --- |
| `main` | 메인 브랜치 |
| `member's name` | 담당 부분별 분업화 |

## 개발 규칙
1. 글로벌 변수 사용 시 팀원들에게 미리 알리기
2. 글로벌 변수명 규칙: 함수명_변수명
3. 각자 구현할 기능을 .py 파일에 함수로 구현 후 push
4. 함수명과 파일명 일치시키기
   - 예시: 
     - 함수명: `whaleGame()`
     - 파일명: `whaleGame.py`

## 프로젝트 소개
🍺 Python 술게임 파티

혼자서도 즐기는 Python 술게임 프로젝트로, 실제 플레이어와 AI 친구들이 함께 즐기는 5가지 미니게임(숫자 맞추기, 가위바위보 하나빼기, 시장에 가면, 딸기 게임, 좋아 게임)을 통해 술자리의 재미를 느낄 수 있습니다. 게임에서 패배한 플레이어는 술을 마시게 되며, 자신의 주량에 도달하면 게임이 종료됩니다.

## 👥 Contributors

| 이름 | 담당 게임 |
|------|-----------|
| 홍다오 | 초기 프롬프트 & 숫자맞추기 |
| 박서정 | 가위바위보 하나빼기 |
| 한종서 | 시장에 가면 |
| 남경민 | 딸기 게임 |
| 조주영 | 좋아게임 |

## **모듈 구조**
📦 drinking-game
├── 📄 main.py
└── 📂 feature/
    ├── 📄 game.py
    ├── 📄 market_game.py
    ├── 📄 number_game.py
    ├── 📄 like_game2.py
    ├── 📄 rps_game.py
    └── 📄 strawberry_game.py 

### **game.py**
- **클래스**
  - `class Player`: 플레이어 정보 관리
    - `__init__(name, tolerance)`: 플레이어 초기화
    - `drink(amount) -> bool`: 음주량 추가 및 치사량 체크
      - 매개변수:
        - `amount (int)`: 추가로 마셔야 할 잔 수
      - 반환값:
        - `True`: 치사량 도달
        - `False`: 치사량 미도달
- **함수**
  - `gamestart()`: 게임 시작 및 메인 로직
  - `gameover()`: 게임 종료 화면 출력

- **주요 로직**
- 각 세션마다 다음 과정을 반복:
  1. 플레이어들이 게임을 선택하고 진행.
  2. `drink_players` 리스트에 마셔야 하는 플레이어들을 저장.
  3. 처리 로직:
     - `drink_players`에 플레이어가 1명일 경우:
       - 해당 플레이어가 `drink()` 메서드를 호출해 잔 수 증가.
       - 잔 수가 `tolerance`를 초과하면 `gameover()` 호출로 종료.
     - 치사량 미도달:
       - 다음 게임 선택자로 설정.
     - `drink_players`가 비어 있을 경우:
       - 모든 플레이어 중 가장 많이 마신 플레이어를 선택.

- **각 게임 함수 호출 시 주의사항**
- 모든 게임 함수는 음료를 마셔야 할 플레이어를 반환.
- Return 값의 형태:
  - `[Player]`: 마셔야 할 플레이어 리스트 (한 명 이상 가능).
  - `[]`: 마셔야 할 플레이어가 없을 경우.
  - 예시: `number_game` => 성공/실패 여부에 따라 `[Player]` 리턴

- **GAME OVER 조건**
- 치사량에 도달한 플레이어가 있을 경우:
  - `gameover()` 호출 후 프로그램 종료.
- 치사량에 도달하지 않았고 `drink_players`가 비어 있으면:
  - 가장 많이 마신 플레이어 중 한 명을 선택.
  - 선택된 플레이어가 다음 게임 진행.

### **number_game.py**
- **함수**
  - `number_game(current_player, flag, is_real_player=False)`: 숫자 맞추기 게임 실행
    - 매개변수:
      - `current_player (Player)`: 현재 플레이어 객체
      - `flag (int)`: 게임 설명 출력 여부 (0일 때 출력)
      - `is_real_player (bool)`: 실제 플레이어 여부 (기본값: False)
    - 반환값:
      - 성공: `[]` (빈 리스트, 아무도 마시지 않음)
      - 실패: `[current_player]` (현재 플레이어가 마심)

- **게임 규칙**
  - 1부터 10 사이의 숫자를 맞추는 게임
  - 기회는 총 5번
  - 매 시도마다 Up/Down 힌트 제공
  - AI 플레이어의 경우 이전 힌트를 바탕으로 범위 좁혀가며 추측

- **주요 로직**
  - 실제 플레이어:
    - 숫자 입력 받아 검증 (1-10 범위)
    - 잘못된 입력 시 재시도 기회 제공
  - AI 플레이어:
    - 이전 힌트 기반으로 최적 범위 내에서 랜덤 선택
    - 첫 시도는 1-10 중 무작위

### **rps_game.py**
- **함수**
  - `rps_game(current_player, available_names, is_friend=False)`: 가위바위보 하나빼기 1 게임
    - 매개변수:
      - `current_player (Player)`: 현재 플레이어 객체
      - `available_names (list[Player])`: 게임 참여 가능한 플레이어 목록
      - `is_friend (bool)`: AI 플레이어 여부 (기본값: False)
    - 반환값:
      - 승리: `[패자]` (패자가 마심)
      - 무승부: `[current_player, enemy]` (둘 다 마심)
      - 패배: `1` (현재 플레이어가 마심)

- **게임 규칙**
  - 양손으로 가위바위보를 내고 한 손을 선택하여 승부
  - 승패 결정:
    - 가위 > 보
    - 바위 > 가위
    - 보 > 바위
    - 같은 모양: 무승부 (둘 다 마심)

- **주요 로직**
  - 실제 플레이어:
    - 대결 상대 직접 선택
    - 양손 가위바위보 입력 ("가위 바위" 형식)
    - 남길 손 선택 ("왼손" 또는 "오른손")
  - AI 플레이어:
    - 대결 상대 랜덤 선택
    - 양손 가위바위보 랜덤 생성
    - 남길 손 랜덤 선택

### **market_game.py**
- **함수**
  - `market_game(me, name, players)`: "시장에 가면" 게임
    - 매개변수:
      - `me (str)`: 현재 플레이어 이름
      - `name (str)`: 게임 시작 플레이어 이름
      - `players (list[Player])`: 게임 참여자 목록
    - 반환값:
      - 실패: `[player]` (실패한 플레이어가 마심)

- **게임 규칙**
  - "시장에 가면~"으로 시작하여 시장에서 살 수 있는 물건을 순서대로 나열
  - 이전 플레이어들이 말한 물건을 순서대로 모두 말한 후 새로운 물건 추가
  - 순서를 틀리거나 물건을 빼먹으면 실패

- **주요 로직**
  - 실제 플레이어:
    - 이전 물건들을 순서대로 입력
    - 새로운 물건 추가 가능
  - AI 플레이어:
    - 랜덤으로 8-12턴까지만 진행 가능
    - 13-18턴 사이에서 랜덤하게 포기
    - 미리 정의된 물건 리스트에서 중복되지 않는 물건 선택

- **게임 종료 조건**
  - 순서나 물건을 잘못 말한 경우
  - AI 플레이어가 랜덤 턴 제한에 도달한 경우
  - 게임이 너무 길어져서 강제 종료되는 경우 (13-18턴 사이)

### **strawberry_game.py**
- **함수**
  - `strawberry_game(straw_player_object, friend_list, is_friend=False)`
    - **설명**: 박자에 맞춰 '딸기'를 외치는 리듬 게임 🍓👏
    - 매개변수:
      - `straw_player_object (Player)`: 현재 플레이어 객체
      - `friend_list (list[Player])`: 게임 참여 가능한 다른 플레이어 목록
      - `is_friend (bool)`: AI 플레이어 여부 (기본값: False)
    - 반환값:
      - 실패: `[straw_player_object]` (현재 플레이어가 마심)
      - 성공: `[friend_list[ran_dead]]` (랜덤으로 선택된 다른 플레이어가 마심)

- **게임 규칙**
  - 참여자 수에 따라 다른 난이도(1-3명)
  - 박자에 맞춰 정해진 패턴으로 "딸기"를 외쳐야 함
  - 중간에 "reverse" 패턴이 나오면 순서가 역순으로 변경
  - 패턴을 틀리면 즉시 실패

- **주요 로직**
  - 실제 플레이어:
    - 정해진 타이밍에 정확한 패턴 입력 필요
    - 예시 패턴: "👏👏👏 딸기", "딸~기 딸~기", "👏 딸기 딸~기" 등
  - AI 플레이어:
    - 각 단계마다 랜덤 확률(50%)로 성공/실패
    - 성공 시 다음 단계로 진행
    - 실패 시 게임 종료 및 벌칙

- **게임 진행 단계**
  1. 기본 패턴 따라하기
  2. 연속 패턴 수행
  3. Reverse 패턴 등장
  4. 최종 패턴 성공 시 다른 플레이어에게 벌칙

### **like_game2.py**
- **함수**
  - `game_like(player, all_players, current_player)`: 고백하기 게임
    - **설명**: 플레이어들이 돌아가며 서로에게 고백하는 게임 💕
    - 매개변수:
      - `player (Player)`: 실제 플레이어 객체
      - `all_players (list[Player])`: 전체 플레이어 목록
      - `current_player (Player)`: 게임을 시작한 플레이어 객체
    - 반환값:
      - 3번 거절: `[rejected_player]` (거절당한 플레이어가 마심)
      - 게임 종료: `[current_player]` (게임 제안자가 마심)

- **게임 규칙**
  - 플레이어들이 순서대로 다른 플레이어에게 고백
  - 고백받은 플레이어는 수락/거절 선택
  - 3번 거절당하면 해당 플레이어가 벌칙
  - 모든 플레이어의 턴이 끝날 때까지 3번 거절당한 사람이 없으면 게임 제안자가 벌칙

- **주요 로직**
  - 실제 플레이어 턴:
    - 고백할 대상 직접 선택
    - AI 플레이어가 랜덤하게 수락/거절
  - AI 플레이어 턴:
    - 랜덤하게 고백 대상 선택
    - 실제 플레이어가 선택된 경우 수락/거절 입력
    - AI 플레이어끼리는 랜덤하게 수락/거절

- **게임 진행 순서**
  1. 플레이어 순서대로 고백 대상 선택
  2. 고백 성공/실패 여부 확인
  3. 거절 횟수 3회 도달 시 게임 종료
  4. 전체 턴 종료 시 게임 제안자가 마심

## **게임 결과 처리**
- 모든 게임은 `[Player]` 형식의 결과를 반환
  - `Player`: 벌주를 마셔야 하는 플레이어 객체
- 반환된 결과를 통해 `drink(amount)` 메서드를 호출하여 벌주 적용


## **게임 종료**
- **조건**: 플레이어 중 한 명이라도 `tolerance`를 초과하면 게임 종료
- **동작**: 종료 메시지 출력 및 프로그램 종료

## 회의 일정
- **01-05** 23:00
- **01-06** 21:00

## 마감일
- **01-07** 10:00 (마지막 커밋 시간 기준)